# Environment Configuration
# Copy this file to .env and update values

# Application Environment
FLASK_ENV=production
# Options: development, production, testing
ALLOW_DEFAULT_ADMIN_BOOTSTRAP=false    # Disable default weak admin in production; set true in dev for first login only

# Server Configuration
HOST=0.0.0.0
PORT=8000

# Security
SECRET_KEY=your-secret-key-change-in-production
GITHUB_WEBHOOK_SECRET=set-a-random-long-string
ENABLE_SELF_REGISTRATION=false
PASSWORD_PEPPER=use-a-long-random-string

# Security Headers
TALISMAN_ENABLED=true
FORCE_HTTPS=false  # Set to true in production with SSL

# CORS (Svelte dev server + Playwright preview)
CORS_ORIGINS=http://localhost:5173,http://localhost:4173

# Logging
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
USE_STRUCTURED_LOGGING=false  # Enable JSON logging for production

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# Caching
CACHE_TYPE=redis  # Options: simple, redis
CACHE_DEFAULT_TIMEOUT=300

# Rate Limiting
RATELIMIT_ENABLED=true
RATELIMIT_DEFAULT=200 per day, 50 per hour

# Monitoring & Error Tracking
SENTRY_DSN=  # Add your Sentry DSN for error tracking
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=1.0

# API Documentation
SWAGGER_ENABLED=true  # Set to false to disable Swagger UI in production

# Frontend feature flags
VITE_ENABLE_REGISTER=true            # Show "request access" entry
VITE_ENABLE_FORGOT_PASSWORD=false    # Forgot password disabled until real flow exists
VITE_USE_MOCK_API=false

# Local SQLite override (uncomment for lightweight dev)
# DATABASE_URL=sqlite:///learning_env.db

# Database (PostgreSQL) - Production defaults
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=learning_env
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgresql+psycopg2://postgres:postgres@postgres:5432/learning_env
